<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head th:fragment="head">

<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<meta name="description" content="" />
<meta name="author" content="" />
<title>SISVIME</title>
<link href="/css/styles.css" rel="stylesheet" />
<link href="/css/personal.css" rel="stylesheet" />
<link
	href="https://cdn.datatables.net/1.10.20/css/dataTables.bootstrap4.min.css"
	rel="stylesheet" crossorigin="anonymous" />
<link
	href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css"
	rel="stylesheet" crossorigin="anonymous" />
<link rel="icon"  th:href="@{/imagen/favicon.ico}" />
<script data-search-pseudo-elements defer
	src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/js/all.min.js"
	crossorigin="anonymous"></script>
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/feather-icons/4.27.0/feather.min.js"
	crossorigin="anonymous"></script>
<link th:href="@{/css/jquery-ui.min.css}" rel="stylesheet" />

</head>

<body class="nav-fixed">

	<!-- AQUI ESTA EL NAVBAR -AUTOMATIZADO -->
        <header th:insert="fragments/menu :: menu-principal">
        
        </header>

	<!-- Aqui esta EL EL DASBHBOARD PARTE IZQUIERDA-->
	<div id="layoutSidenav">
		<div th:insert="fragments/dashboard :: dashboard-principal" id="layoutSidenav_nav"></div>

		<div id="layoutSidenav_content">
			<main>
				<header
					class="page-header page-header-compact page-header-light border-bottom bg-white mb-4">
					<div class="container-fluid">
						<div class="page-header-content">
							<div class="row align-items-center justify-content-between pt-3">
								<div class="col-auto mb-3">
									<h1 class="page-header-title">
										<div class="page-header-icon">
											<i data-feather="file"></i>
										</div>
										Generar Cita Medica
									</h1>
								</div>
								<div class="col-12 col-xl-auto mb-3">Personal
									Medico FAP</div>
							</div>
						</div>
					</div>


				</header>
				<center>
					<h3>RESERVAS CITA MEDICA</h3>
				</center>
				<!-- Main page content-->
				<div class="container mt-4">
					<div class="card">
						<div class="card-header">Plantilla para la Reserva de Citas</div>
						
						<label for="buscar_paciente" class="col-sm-6 col-form-label"
							th:text="'Buscar paciente'"></label>
							
						<div class="autocomplete col-sm-9">
						
						    <input class="form-control" id="myInput" type="text" name="myCountry" placeholder="Nombre Paciente">
						 </div>
						 <br> <br>
					</div>
				</div>

				<div class="container mt-4">
					<h4 class="card-title">
						<a th:href="@{/views/citas/formcita}" class="btn btn-primary btn-xs">
							RESERVAR CITA &nbsp; <i class="far fa-address-card"></i>
						</a>
					</h4>

					<table th:replace="views/paciente/plantilla-items :: itemsPaciente"></table>

					<table id="cargarItemsPaciente"
						class="table table-sm table-striped table-hover ">

						<thead>
							<tr>
								<th>Codigo</th>
								<th>Medico</th>
								<th>Especialidad</th>
								<th>Paciente Nombre</th>
								<th>Apellido</th>
								<th>Fecha de Atencion</th>
								<th>Hora Cita</th>
								<th>Observacion</th>
								<th>Accion</th>

							</tr>
						</thead>
						<tfoot>
							<tr>
								<th>Codigo</th>
								<th>Medico</th>
								<th>Especialidad</th>
								<th>Paciente Nombre</th>
								<th>Apellido</th>
								<th>Fecha de Atencion</th>
								<th>Hora Cita</th>
								<th>Observacion</th>
								<th>Accion</th>
							</tr>
						</tfoot>
						<tbody>
							<tr th:each="cita :${citas}">
							<td th:text="${cita.id}"></td>
							<td th:text="${cita.med}"></td>
							<td th:text="${cita.esp}"></td>
							<td th:text="${cita.pac.nombre}"></td>
							<td th:text="${cita.pac.apellido_pa}"></td>
							<td th:text="${cita.fecha}"></td>
						    <td th:text="${cita.idhora.hora}"></td>
							<td th:text="${cita.estado}"></td>
							<td> 
							
							<a class="btn btn-light btn-xs"  th:onclick="deletereservacita([[${cita.id}]])"><i class="far fa-trash-alt"></i></a>
							<a th:href="@{/calendareservacita}" class="btn btn-light btn-xs"><i class="fas fa-calendar-alt"></i></a>
							<a th:href="@{/views/citas/atendercita/}+${cita.id}" class="btn btn-primary btn-xs">ATENDER CITA &nbsp; <i class="far fa-address-card"></i>	</a>
							</td>
							
							</tr>

						</tbody>

					</table>

				</div>

				<br> <br> <br>

				<!--  	                    
                     <div class="container mt-4">
                        <div class="card">
                            <div class="card-header">Plantilla para la Reserva de Citas</div>
                             
                            <div class="card-body">This is a blank page. You can use this page as a boilerplate for creating new pages! This page uses the compact page header format, which allows you to create pages with a very minimal and slim page header so you can get right to showcasing your content.</div>
                       	    <div class="card-body">This is a blank page. You can use this page as a boilerplate for creating new pages! This page uses the compact page header format, which allows you to create pages with a very minimal and slim page header so you can get right to showcasing your content.</div>
                       		<div class="card-body">This is a blank page. You can use this page as a boilerplate for creating new pages! This page uses the compact page header format, which allows you to create pages with a very minimal and slim page header so you can get right to showcasing your content.</div>
                                 
                        </div>
                    </div>
                -->                    

				<div class="alert alert-success" th:if="${success !=null}" th:text="${success}"></div>
				<div class="alert alert-danger" th:if="${error != null}" th:text="${error}"></div>
				<div class="alert alert-warning" th:if="${warning != null}" th:text="${warning}"></div>
				<div class="alert alert-info" th:if="${info != null}" th:text="${info}"></div>
				<div class="alert alert-primary" th:if="${primary != null}" th:text="${primary}"></div>
			</main>

			<!-- AQUI SE ENCUENTRA EL FOOTER-AUTOMATIZADO-->		

                <footer th:insert="fragments/footer :: pie-pagina" class="footer mt-auto footer-light">
                    
                </footer>
		</div>
	</div>

	<script src="https://code.jquery.com/jquery-3.5.1.min.js"
		crossorigin="anonymous"></script>
	<script
		src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"
		crossorigin="anonymous"></script>
	<script src="/js/scripts.js"></script>
	<script th:src="@{/js/jquery-ui.min.js}"></script>	
	<!-- Alertas para Eliminar el Modal-->	
	<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
	<script src="/js/alertas/funcionesrc.js"></script>
	
</body>
</html>
